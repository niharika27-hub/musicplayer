/* Hero Player */
.hero{ display:grid; gap:24px; grid-template-columns: 1fr; align-items:center; }
.player{ display:grid; gap:24px; padding:24px; }
.player-main{ display:grid; place-items:center; gap:16px; }
.album{
  width: 240px; height: 240px; border-radius: 50%;
  padding: 16px;
  background: linear-gradient(145deg, #ffffff, #e3eaff);
  box-shadow: 18px 18px 36px var(--shadow-dark), -18px -18px 36px var(--shadow-light);
}
.album img{ width:100%; height:100%; object-fit:cover; border-radius:50%; }
.title{ font-size:clamp(20px, 3vw, 28px); font-weight:700; text-align:center; }
.subtitle{ text-align:center; opacity:.7; }

.controls{ display:flex; align-items:center; justify-content:center; gap:14px; }
.icon-btn{
  width:44px; height:44px; border-radius:50%;
  display:grid; place-items:center;
  background: var(--surface);
  box-shadow: 8px 8px 18px var(--shadow-dark), -8px -8px 18px var(--shadow-light);
  cursor:pointer; transition: transform .15s ease, box-shadow .2s ease;
}
.icon-btn:hover{ transform: translateY(-1px); }
.icon-btn:active{ box-shadow: inset 8px 8px 16px var(--shadow-dark), inset -8px -8px 16px var(--shadow-light); }

.play{
  width:64px; height:64px; border-radius:50%;
  display:grid; place-items:center; color:#fff;
  background: radial-gradient(120% 120% at 35% 25%, var(--primary) 0%, #5f74ff 60%, #5062ff 100%);
}

/* Range slider (progress) */
.progress-wrap{ display:grid; gap:8px; margin-top:6px; }
.time{ display:flex; justify-content:space-between; font-size:12px; opacity:.7; }
input[type="range"]{
  -webkit-appearance:none; 
  appearance: none;
  width:100%; height:12px; border-radius:999px; background:var(--surface);
  box-shadow: inset 6px 6px 12px var(--shadow-dark), inset -6px -6px 12px var(--shadow-light);
  outline:none;
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none; width:22px; height:22px; border-radius:50%;
  background: radial-gradient(120% 120% at 35% 25%, var(--primary) 0%, #5f74ff 60%);
  box-shadow: 6px 6px 12px rgba(110,133,255,.35), -6px -6px 12px #fff;
  border: 3px solid #fff; cursor:pointer;
}

/* Section headings */
.section h2{ font-size: clamp(18px, 2.5vw, 22px); margin:0 0 12px; }

/* Horizontal cards (Trending) */
.scroll-row{
  display:grid; grid-auto-flow: column; grid-auto-columns: 180px;
  gap:16px; overflow-x:auto; padding:6px 4px 10px;
  scroll-snap-type: x mandatory;
}
.scroll-row > article{ scroll-snap-align:start; }
.card{
  position:relative; padding:12px; border-radius: var(--radius);
  background: var(--surface);
  box-shadow: 10px 10px 22px var(--shadow-dark), -10px -10px 22px var(--shadow-light);
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}

/* Playing indicator - highlights the currently playing card */
.card.playing{
  transform: scale(1.02);
  background: linear-gradient(145deg, var(--primary), color-mix(in srgb, var(--primary) 80%, var(--accent)));
  color: #ffffff;
  box-shadow: 0 0 0 3px var(--primary), 
              0 0 25px rgba(110, 133, 255, 0.5),
              12px 12px 26px var(--shadow-dark), 
              -12px -12px 26px var(--shadow-light);
  animation: pulse-glow 2s ease-in-out infinite;
}

.card.playing strong,
.card.playing .muted {
  color: #ffffff;
  opacity: 1;
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 0 3px var(--primary), 
                          0 0 25px rgba(110, 133, 255, 0.5),
                          12px 12px 26px var(--shadow-dark), 
                          -12px -12px 26px var(--shadow-light); }
  50% { box-shadow: 0 0 0 3px var(--primary), 
                    0 0 35px rgba(110, 133, 255, 0.8),
                    12px 12px 26px var(--shadow-dark), 
                    -12px -12px 26px var(--shadow-light); }
}

/* Playing indicator for play overlay - add animation */
.card.playing .play-overlay{
  animation: rotate-pulse 3s linear infinite;
}

@keyframes rotate-pulse {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(180deg) scale(1.1); }
  100% { transform: rotate(360deg) scale(1); }
}

.cover{ border-radius: 14px; overflow:hidden; aspect-ratio:1/1; }
.play-overlay{
  position:absolute; right:16px; bottom:16px; width:44px; height:44px; border-radius:50%;
  display:grid; place-items:center; color:#fff;
  background: radial-gradient(120% 120% at 35% 25%, var(--primary) 0%, #5f74ff 60%);
  box-shadow: 8px 8px 18px rgba(110,133,255,.35), -8px -8px 18px #fff;
}

/* Grid cards (Artists / Albums) */
.grid{ display:grid; gap:16px; grid-template-columns: repeat(2, 1fr); }
@media (min-width: 720px){
  .hero{ grid-template-columns: 1.1fr 1fr; }
  .grid{ grid-template-columns: repeat(4, 1fr); }
}

.artist, .album-card{
  background: var(--surface);
  border-radius: var(--radius);
  padding:14px;
  box-shadow: 10px 10px 22px var(--shadow-dark), -10px -10px 22px var(--shadow-light);
  text-align:center;
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}

/* Playing indicator for album cards */
.album-card.playing{
  transform: scale(1.02);
  background: linear-gradient(145deg, var(--primary), color-mix(in srgb, var(--primary) 80%, var(--accent)));
  color: #ffffff;
  box-shadow: 0 0 0 3px var(--primary), 
              0 0 25px rgba(110, 133, 255, 0.5),
              12px 12px 26px var(--shadow-dark), 
              -12px -12px 26px var(--shadow-light);
  animation: pulse-glow 2s ease-in-out infinite;
}

.album-card.playing strong {
  color: #ffffff;
}

.avatar{
  width:96px; height:96px; border-radius:50%; margin: 6px auto 10px;
  padding:8px; background: linear-gradient(145deg, #ffffff, #e3eaff);
  box-shadow: 12px 12px 24px var(--shadow-dark), -12px -12px 24px var(--shadow-light);
}
.avatar img{ width:100%; height:100%; border-radius:50%; object-fit:cover; }

/* Library list */
.list{ display:grid; gap:10px; }
.row{
  display:grid; grid-template-columns: 56px 1fr auto; align-items:center; gap:12px;
  background: var(--surface); padding:10px 12px; border-radius: 14px;
  box-shadow: 8px 8px 18px var(--shadow-dark), -8px -8px 18px var(--shadow-light);
  transition: transform 0.2s ease, box-shadow 0.3s ease;
}

/* Playing indicator for list rows */
.row.playing{
  transform: translateX(4px);
  background: linear-gradient(145deg, var(--primary), color-mix(in srgb, var(--primary) 80%, var(--accent)));
  color: #ffffff;
  box-shadow: 0 0 0 2px var(--primary), 
              0 0 20px rgba(110, 133, 255, 0.5),
              10px 10px 22px var(--shadow-dark), 
              -10px -10px 22px var(--shadow-light);
}

.row.playing .meta,
.row.playing .meta small {
  color: #ffffff;
  opacity: 1;
}

.row .thumb{ width:56px; height:56px; border-radius:12px; overflow:hidden; }
.row .meta small{ opacity:.7; }

/* Create playlist CTA */
.cta{
  display:grid; gap:14px; align-items:center; justify-items:start;
  padding:24px;
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: 14px 14px 32px var(--shadow-dark), -14px -14px 32px var(--shadow-light);
}
.cta .btn-primary{
  box-shadow: 10px 10px 24px rgba(110,133,255,.35), -10px -10px 24px var(--shadow-light);
}
